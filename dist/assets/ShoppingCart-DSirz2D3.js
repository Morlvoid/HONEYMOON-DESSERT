import{r as g,j as e,a as G,u as K,c as U,L as V}from"./index-kiCIfI36.js";import{P as Q}from"./PageBanner-CRFB6bym.js";import{P as J,H as W,F as Y}from"./Footer-DnH7jOSd.js";import{u as F,b as Z,m as j,B}from"./button-DPDK__u2.js";import{c as ee,P as w,u as te,d as I,g as se}from"./Combination-D_3yussR.js";import{u as ae}from"./index-CQOVVlCY.js";import{C as _}from"./check-kbzD7uTy.js";import{M as re}from"./map-pin-BUdeISjk.js";import{A as X}from"./index-B8xgofm6.js";import{M as oe}from"./minus-1cHLPkWO.js";import{P as ce}from"./plus-Bw_ckI1C.js";import{T as ne}from"./trash-2-Dn980YT0.js";import{S as ie}from"./shopping-bag-DcC-SBju.js";import"./user-Bjm6U890.js";var S="Checkbox",[pe]=ee(S),[de,P]=pe(S);function le(s){const{__scopeCheckbox:r,checked:n,children:d,defaultChecked:o,disabled:a,form:C,name:c,onCheckedChange:l,required:b,value:h="on",internal_do_not_use_render:i}=s,[u,k]=te({prop:n,defaultProp:o??!1,onChange:l,caller:S}),[t,m]=g.useState(null),[y,p]=g.useState(null),x=g.useRef(!1),v=t?!!C||!!t.closest("form"):!0,N={checked:u,disabled:a,setChecked:k,control:t,setControl:m,name:c,form:C,value:h,hasConsumerStoppedPropagationRef:x,required:b,defaultChecked:f(o)?!1:o,isFormControl:v,bubbleInput:y,setBubbleInput:p};return e.jsx(de,{scope:r,...N,children:he(i)?i(N):d})}var A="CheckboxTrigger",M=g.forwardRef(({__scopeCheckbox:s,onKeyDown:r,onClick:n,...d},o)=>{const{control:a,value:C,disabled:c,checked:l,required:b,setControl:h,setChecked:i,hasConsumerStoppedPropagationRef:u,isFormControl:k,bubbleInput:t}=P(A,s),m=F(o,h),y=g.useRef(l);return g.useEffect(()=>{const p=a?.form;if(p){const x=()=>i(y.current);return p.addEventListener("reset",x),()=>p.removeEventListener("reset",x)}},[a,i]),e.jsx(w.button,{type:"button",role:"checkbox","aria-checked":f(l)?"mixed":l,"aria-required":b,"data-state":$(l),"data-disabled":c?"":void 0,disabled:c,value:C,...d,ref:m,onKeyDown:I(r,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:I(n,p=>{i(x=>f(x)?!0:!x),t&&k&&(u.current=p.isPropagationStopped(),u.current||p.stopPropagation())})})});M.displayName=A;var q=g.forwardRef((s,r)=>{const{__scopeCheckbox:n,name:d,checked:o,defaultChecked:a,required:C,disabled:c,value:l,onCheckedChange:b,form:h,...i}=s;return e.jsx(le,{__scopeCheckbox:n,checked:o,defaultChecked:a,disabled:c,required:C,onCheckedChange:b,name:d,form:h,value:l,internal_do_not_use_render:({isFormControl:u})=>e.jsxs(e.Fragment,{children:[e.jsx(M,{...i,ref:r,__scopeCheckbox:n}),u&&e.jsx(D,{__scopeCheckbox:n})]})})});q.displayName=S;var z="CheckboxIndicator",T=g.forwardRef((s,r)=>{const{__scopeCheckbox:n,forceMount:d,...o}=s,a=P(z,n);return e.jsx(J,{present:d||f(a.checked)||a.checked===!0,children:e.jsx(w.span,{"data-state":$(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:r,style:{pointerEvents:"none",...s.style}})})});T.displayName=z;var L="CheckboxBubbleInput",D=g.forwardRef(({__scopeCheckbox:s,...r},n)=>{const{control:d,hasConsumerStoppedPropagationRef:o,checked:a,defaultChecked:C,required:c,disabled:l,name:b,value:h,form:i,bubbleInput:u,setBubbleInput:k}=P(L,s),t=F(n,k),m=ae(a),y=se(d);g.useEffect(()=>{const x=u;if(!x)return;const v=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(v,"checked").set,H=!o.current;if(m!==a&&E){const O=new Event("click",{bubbles:H});x.indeterminate=f(a),E.call(x,f(a)?!1:a),x.dispatchEvent(O)}},[u,m,a,o]);const p=g.useRef(f(a)?!1:a);return e.jsx(w.input,{type:"checkbox","aria-hidden":!0,defaultChecked:C??p.current,required:c,disabled:l,name:b,value:h,form:i,...r,tabIndex:-1,ref:t,style:{...r.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});D.displayName=L;function he(s){return typeof s=="function"}function f(s){return s==="indeterminate"}function $(s){return f(s)?"indeterminate":s?"checked":"unchecked"}function R({className:s,...r}){return e.jsx(q,{"code-path":"src\\components\\ui\\checkbox.tsx:14:5","data-slot":"checkbox",className:Z("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:e.jsx(T,{"code-path":"src\\components\\ui\\checkbox.tsx:22:7","data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:e.jsx(_,{"code-path":"src\\components\\ui\\checkbox.tsx:26:9",className:"size-3.5"})})})}function Pe(){const{items:s,selectedCount:r,totalCount:n,updateQuantity:d,toggleSelected:o,toggleAll:a,removeItem:C}=G(),{t:c}=K(),[l]=g.useState(!1),b=U(),h=s.filter(t=>t.selected),i=h.reduce((t,m)=>t+m.price*m.quantity,0),u=s.length>0&&s.every(t=>t.selected),k=()=>{if(h.length>0){const t=`ORDER${Date.now()}`;b(`/payment?orderId=${t}&amount=${i}&items=${r}`)}};return e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:39:5",className:"min-h-screen flex flex-col",children:[e.jsx(Q,{"code-path":"src\\pages\\ShoppingCart.tsx:40:7",title:c("购物车"),titleEn:"Shopping Cart",image:"/images/product-3.jpg"}),e.jsx(W,{"code-path":"src\\pages\\ShoppingCart.tsx:46:7"}),e.jsx("main",{"code-path":"src\\pages\\ShoppingCart.tsx:48:7",className:"flex-1",children:e.jsx("section",{"code-path":"src\\pages\\ShoppingCart.tsx:49:9",className:"section-padding bg-white",children:e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:50:11",className:"page-container",children:[e.jsxs(j.div,{"code-path":"src\\pages\\ShoppingCart.tsx:52:13",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl mb-6",children:[e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:58:15",className:"flex items-center gap-3",children:[e.jsx(re,{"code-path":"src\\pages\\ShoppingCart.tsx:59:17",className:"text-[#F5B800]",size:20}),e.jsxs("span",{"code-path":"src\\pages\\ShoppingCart.tsx:60:17",className:"text-gray-600 text-sm",children:[c("地址"),"：北京市朝阳区XXXX路XXXX街道XXXX小区XX栋XX单元XXXXX"]})]}),e.jsx(B,{"code-path":"src\\pages\\ShoppingCart.tsx:64:15",variant:"outline",className:"border-[#F5B800] text-[#F5B800]",children:c("修改地址")})]}),s.length>0&&e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:71:15",className:"flex items-center gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx(R,{"code-path":"src\\pages\\ShoppingCart.tsx:72:17",checked:u,onCheckedChange:t=>a(!!t),className:"data-[state=checked]:bg-[#F5B800] data-[state=checked]:border-[#F5B800]"}),e.jsxs("span",{"code-path":"src\\pages\\ShoppingCart.tsx:77:17",className:"text-sm text-gray-600",children:["全选 (",r,"/",n,")"]})]}),e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:84:13",className:"space-y-4 mb-8",children:[e.jsx(X,{"code-path":"src\\pages\\ShoppingCart.tsx:85:15",children:s.map((t,m)=>e.jsxs(j.div,{"code-path":"src\\pages\\ShoppingCart.tsx:87:19",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:m*.05},className:"flex items-center gap-4 p-4 border rounded-xl hover:shadow-md transition-shadow",children:[e.jsx(R,{"code-path":"src\\pages\\ShoppingCart.tsx:95:21",checked:t.selected,onCheckedChange:()=>o(t.id),className:"data-[state=checked]:bg-[#F5B800] data-[state=checked]:border-[#F5B800]"}),e.jsx("img",{"code-path":"src\\pages\\ShoppingCart.tsx:101:21",src:t.image,alt:t.name,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:107:21",className:"flex-1",children:[e.jsx("h3",{"code-path":"src\\pages\\ShoppingCart.tsx:108:23",className:"font-medium text-gray-800",children:t.name}),e.jsx("p",{"code-path":"src\\pages\\ShoppingCart.tsx:109:23",className:"text-xs text-gray-500 mt-1",children:"2小时内发货，预计2小时送达 快递: 2包装费，5运费"}),e.jsx("span",{"code-path":"src\\pages\\ShoppingCart.tsx:112:23",className:"inline-block mt-2 px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:"冷藏"})]}),e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:117:21",className:"text-right",children:[e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:118:23",className:"text-lg font-bold text-[#F5B800]",children:["¥",t.price.toFixed(1)]}),e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:121:23",className:"flex items-center gap-2 mt-2",children:[e.jsx("button",{"code-path":"src\\pages\\ShoppingCart.tsx:122:25",onClick:()=>d(t.id,t.quantity-1),className:"w-7 h-7 border rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors",children:e.jsx(oe,{"code-path":"src\\pages\\ShoppingCart.tsx:126:27",size:14})}),e.jsx("span",{"code-path":"src\\pages\\ShoppingCart.tsx:128:25",className:"w-8 text-center font-medium",children:t.quantity}),e.jsx("button",{"code-path":"src\\pages\\ShoppingCart.tsx:129:25",onClick:()=>d(t.id,t.quantity+1),className:"w-7 h-7 border rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors",children:e.jsx(ce,{"code-path":"src\\pages\\ShoppingCart.tsx:133:27",size:14})})]})]}),e.jsx("button",{"code-path":"src\\pages\\ShoppingCart.tsx:138:21",onClick:()=>C(t.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(ne,{"code-path":"src\\pages\\ShoppingCart.tsx:142:23",size:18})})]},t.id))}),s.length===0&&e.jsxs(j.div,{"code-path":"src\\pages\\ShoppingCart.tsx:149:17",initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[e.jsx(ie,{"code-path":"src\\pages\\ShoppingCart.tsx:154:19",className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{"code-path":"src\\pages\\ShoppingCart.tsx:155:19",className:"text-gray-500",children:"购物车是空的"}),e.jsx(V,{"code-path":"src\\pages\\ShoppingCart.tsx:156:19",to:"/products",className:"inline-block mt-4 px-6 py-2 bg-[#F5B800] text-white rounded-full hover:bg-[#E5A800] transition-colors",children:"去购物"})]})]}),s.length>0&&e.jsxs(j.div,{"code-path":"src\\pages\\ShoppingCart.tsx:168:15",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center justify-between p-6 bg-gray-50 rounded-xl",children:[e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:174:17",children:[e.jsxs("span",{"code-path":"src\\pages\\ShoppingCart.tsx:175:19",className:"text-gray-600",children:[c("合计"),"："]}),e.jsxs("span",{"code-path":"src\\pages\\ShoppingCart.tsx:176:19",className:"text-2xl font-bold text-[#F5B800]",children:["¥",i.toFixed(1)]}),e.jsxs("span",{"code-path":"src\\pages\\ShoppingCart.tsx:179:19",className:"text-sm text-gray-400 ml-2",children:["(已选",r,"件)"]})]}),e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:183:17",className:"relative",children:[e.jsx(B,{"code-path":"src\\pages\\ShoppingCart.tsx:184:19",onClick:k,disabled:h.length===0,className:`px-8 py-3 text-lg transition-all ${h.length>0?"bg-[#F5B800] hover:bg-[#E5A800]":"bg-gray-300 cursor-not-allowed"}`,children:c("结算")}),e.jsx(X,{"code-path":"src\\pages\\ShoppingCart.tsx:197:19",children:l&&e.jsx(j.div,{"code-path":"src\\pages\\ShoppingCart.tsx:199:23",initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.9},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 whitespace-nowrap",children:e.jsxs("div",{"code-path":"src\\pages\\ShoppingCart.tsx:205:25",className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[e.jsx(_,{"code-path":"src\\pages\\ShoppingCart.tsx:206:27",size:16}),e.jsx("span",{"code-path":"src\\pages\\ShoppingCart.tsx:207:27",children:"已添加到订单"})]})})})]})]})]})})}),e.jsx(Y,{"code-path":"src\\pages\\ShoppingCart.tsx:219:7"})]})}export{Pe as default};
