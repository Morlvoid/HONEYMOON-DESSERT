import{r as d,d as y,j as s,L as x}from"./index-kiCIfI36.js";import{c as n,m as p,B as a}from"./button-DPDK__u2.js";import{C as u}from"./card-DPj_v_4u.js";import{S as o}from"./separator-B8f2-tD2.js";import{H as N,F as f}from"./Footer-DnH7jOSd.js";import{A as v}from"./index-B8xgofm6.js";import{L as h}from"./loader-circle-B6nL63xQ.js";import{i as w}from"./Combination-D_3yussR.js";import{C as l}from"./circle-check-big-CDmpchcY.js";import{C as b}from"./clock-_H8mb-O6.js";import"./user-Bjm6U890.js";const k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],C=n("circle-x",k);const F=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],B=n("truck",F),z={pending:s.jsx(b,{"code-path":"src\\pages\\OrderList.tsx:14:12",className:"w-4 h-4 text-yellow-500"}),paid:s.jsx(l,{"code-path":"src\\pages\\OrderList.tsx:15:9",className:"w-4 h-4 text-green-500"}),processing:s.jsx(h,{"code-path":"src\\pages\\OrderList.tsx:16:15",className:"w-4 h-4 text-blue-500 animate-spin"}),shipped:s.jsx(B,{"code-path":"src\\pages\\OrderList.tsx:17:12",className:"w-4 h-4 text-indigo-500"}),delivered:s.jsx(l,{"code-path":"src\\pages\\OrderList.tsx:18:14",className:"w-4 h-4 text-green-600"}),cancelled:s.jsx(C,{"code-path":"src\\pages\\OrderList.tsx:19:14",className:"w-4 h-4 text-red-500"})},A={pending:"待支付",paid:"已支付",processing:"处理中",shipped:"已发货",delivered:"已送达",cancelled:"已取消"};function T(){const[m,r]=d.useState(!0),{orders:c,getOrders:i,isLoading:g}=y();d.useEffect(()=>{(async()=>(r(!0),await i(),r(!1)))()},[i]);const L=()=>s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:46:5",className:"text-center py-20",children:[s.jsx(h,{"code-path":"src\\pages\\OrderList.tsx:47:7",className:"w-12 h-12 text-[#F5B800] animate-spin mx-auto mb-4"}),s.jsx("p",{"code-path":"src\\pages\\OrderList.tsx:48:7",className:"text-gray-600",children:"加载订单中..."})]}),j=()=>s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:53:5",className:"text-center py-20",children:[s.jsx(w,{"code-path":"src\\pages\\OrderList.tsx:54:7",className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{"code-path":"src\\pages\\OrderList.tsx:55:7",className:"text-gray-500",children:"暂无订单"}),s.jsx(x,{"code-path":"src\\pages\\OrderList.tsx:56:7",to:"/products",className:"inline-block mt-4 px-6 py-2 bg-[#F5B800] text-white rounded-full hover:bg-[#E5A800] transition-colors",children:"去购物"})]}),O=e=>new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:77:5",className:"min-h-screen flex flex-col",children:[s.jsx(N,{"code-path":"src\\pages\\OrderList.tsx:78:7"}),s.jsx("main",{"code-path":"src\\pages\\OrderList.tsx:80:7",className:"flex-1 py-16 bg-gray-50",children:s.jsx("div",{"code-path":"src\\pages\\OrderList.tsx:81:9",className:"page-container",children:s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:82:11",className:"max-w-4xl mx-auto",children:[s.jsxs(p.div,{"code-path":"src\\pages\\OrderList.tsx:83:13",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsx("h1",{"code-path":"src\\pages\\OrderList.tsx:89:15",className:"text-3xl font-bold text-gray-800 mb-2",children:"我的订单"}),s.jsx("p",{"code-path":"src\\pages\\OrderList.tsx:90:15",className:"text-gray-600",children:"查看您的所有订单"})]}),s.jsx(v,{"code-path":"src\\pages\\OrderList.tsx:93:13",mode:"wait",children:m||g?s.jsx(L,{"code-path":"src\\pages\\OrderList.tsx:95:17"}):c.length===0?s.jsx(j,{"code-path":"src\\pages\\OrderList.tsx:97:17"}):s.jsx("div",{"code-path":"src\\pages\\OrderList.tsx:99:17",className:"space-y-6",children:c.map(e=>s.jsx(p.div,{"code-path":"src\\pages\\OrderList.tsx:101:21",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:s.jsx(u,{"code-path":"src\\pages\\OrderList.tsx:108:23",className:"overflow-hidden",children:s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:109:25",className:"p-6",children:[s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:110:27",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:111:29",children:[s.jsxs("h2",{"code-path":"src\\pages\\OrderList.tsx:112:31",className:"font-semibold text-lg",children:["订单编号: ",e.id]}),s.jsxs("p",{"code-path":"src\\pages\\OrderList.tsx:113:31",className:"text-sm text-gray-500",children:["下单时间: ",O(e.createdAt)]})]}),s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:115:29",className:"flex items-center gap-2 mt-2 sm:mt-0",children:[z[e.status],s.jsx("span",{"code-path":"src\\pages\\OrderList.tsx:117:31",className:`text-sm font-medium ${e.status==="cancelled"?"text-red-500":e.status==="delivered"?"text-green-600":e.status==="pending"?"text-yellow-500":"text-blue-500"}`,children:A[e.status]})]})]}),s.jsx(o,{"code-path":"src\\pages\\OrderList.tsx:128:27",className:"my-4"}),s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:130:27",className:"space-y-3 mb-4",children:[e.items.slice(0,3).map(t=>s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:132:31",className:"flex items-center gap-4",children:[s.jsx("img",{"code-path":"src\\pages\\OrderList.tsx:133:33",src:t.image,alt:t.name,className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:138:33",className:"flex-1",children:[s.jsx("h3",{"code-path":"src\\pages\\OrderList.tsx:139:35",className:"font-medium text-sm",children:t.name}),s.jsxs("p",{"code-path":"src\\pages\\OrderList.tsx:140:35",className:"text-xs text-gray-500",children:["¥",t.price.toFixed(1)," × ",t.quantity]})]}),s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:142:33",className:"font-medium",children:["¥",(t.price*t.quantity).toFixed(1)]})]},t.id)),e.items.length>3&&s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:146:31",className:"text-sm text-gray-500",children:["共",e.items.length,"件商品"]})]}),s.jsx(o,{"code-path":"src\\pages\\OrderList.tsx:150:27",className:"my-4"}),s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:152:27",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:153:29",className:"text-lg font-bold",children:["总计: ",s.jsxs("span",{"code-path":"src\\pages\\OrderList.tsx:154:35",className:"text-[#F5B800]",children:["¥",e.total.toFixed(2)]})]}),s.jsxs("div",{"code-path":"src\\pages\\OrderList.tsx:156:29",className:"flex gap-2 mt-3 sm:mt-0",children:[s.jsx(a,{"code-path":"src\\pages\\OrderList.tsx:157:31",asChild:!0,variant:"outline",size:"sm",children:s.jsx(x,{"code-path":"src\\pages\\OrderList.tsx:158:33",to:`/order/${e.id}`,children:"查看详情"})}),e.status==="pending"&&s.jsx(a,{"code-path":"src\\pages\\OrderList.tsx:161:33",size:"sm",className:"bg-[#F5B800] hover:bg-[#E5A800] text-white",children:"去支付"}),e.status==="processing"&&s.jsx(a,{"code-path":"src\\pages\\OrderList.tsx:166:33",variant:"destructive",size:"sm",children:"取消订单"})]})]})]})})},e.id))})})]})})}),s.jsx(f,{"code-path":"src\\pages\\OrderList.tsx:183:7"})]})}export{T as default};
