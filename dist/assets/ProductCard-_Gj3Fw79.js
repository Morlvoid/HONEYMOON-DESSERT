import{r as n,j as t,a as j,L as x}from"./index-kiCIfI36.js";import{m as u}from"./button-DPDK__u2.js";import{S as f}from"./Footer-DnH7jOSd.js";import{A as g}from"./index-B8xgofm6.js";import{C as w}from"./check-kbzD7uTy.js";function I({src:r,alt:a,className:d="",placeholder:i="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2YwZjBmMCIvPjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxNjAiIGZpbGw9IiNmNmY2ZjYiLz48L3N2Zz4=",threshold:e=.1}){const[c,m]=n.useState(!1),[l,p]=n.useState(!1),s=n.useRef(null);return n.useEffect(()=>{if(!s.current)return;const o=new IntersectionObserver(([h])=>{h.isIntersecting&&(m(!0),o.unobserve(h.target))},{threshold:e});return o.observe(s.current),()=>{s.current&&o.unobserve(s.current)}},[e]),t.jsxs("div",{"code-path":"src\\components\\LazyImage.tsx:45:5",className:`relative overflow-hidden ${d}`,children:[t.jsx("img",{"code-path":"src\\components\\LazyImage.tsx:46:7",ref:s,src:c?r:i,alt:a,className:`w-full h-full object-cover transition-opacity duration-500 ${c&&!l?"opacity-0":"opacity-100"}`,onLoad:()=>p(!0)}),c&&!l&&t.jsx("div",{"code-path":"src\\components\\LazyImage.tsx:54:9",className:"absolute inset-0 bg-gray-100 animate-pulse"})]})}function N({id:r,name:a,nameEn:d,image:i,price:e,showAddToCart:c=!0}){const{addItem:m}=j(),[l,p]=n.useState(!1),s=o=>{o.preventDefault(),o.stopPropagation(),e&&(m({id:r,name:a,image:i,price:e,quantity:1}),p(!0),setTimeout(()=>p(!1),2e3))};return t.jsxs(u.div,{"code-path":"src\\components\\ProductCard.tsx:45:5",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},whileHover:{y:-5},transition:{duration:.3},className:"group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-shadow duration-300",children:[t.jsx(x,{"code-path":"src\\components\\ProductCard.tsx:53:7",to:`/product/${r}`,children:t.jsx("div",{"code-path":"src\\components\\ProductCard.tsx:54:9",className:"relative aspect-square overflow-hidden bg-[#FFF9E6]",children:t.jsx(I,{"code-path":"src\\components\\ProductCard.tsx:55:11",src:i,alt:a,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})})}),t.jsxs("div",{"code-path":"src\\components\\ProductCard.tsx:63:7",className:"p-4",children:[t.jsxs(x,{"code-path":"src\\components\\ProductCard.tsx:64:9",to:`/product/${r}`,children:[t.jsx("h3",{"code-path":"src\\components\\ProductCard.tsx:65:11",className:"font-medium text-gray-800 mb-1 group-hover:text-[#F5B800] transition-colors",children:a}),d&&t.jsx("p",{"code-path":"src\\components\\ProductCard.tsx:69:13",className:"text-xs text-gray-400 mb-2",children:d})]}),t.jsxs("div",{"code-path":"src\\components\\ProductCard.tsx:73:9",className:"flex items-center justify-between",children:[e&&t.jsxs("span",{"code-path":"src\\components\\ProductCard.tsx:75:13",className:"text-lg font-bold text-[#F5B800]",children:["¥",e.toFixed(1)]}),c&&t.jsxs("div",{"code-path":"src\\components\\ProductCard.tsx:81:13",className:"relative",children:[t.jsx(u.button,{"code-path":"src\\components\\ProductCard.tsx:82:15",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:s,className:"w-10 h-10 rounded-full bg-[#F5B800] text-white flex items-center justify-center hover:bg-[#E5A800] transition-colors shadow-md",children:t.jsx(f,{"code-path":"src\\components\\ProductCard.tsx:88:17",size:18})}),t.jsx(g,{"code-path":"src\\components\\ProductCard.tsx:92:15",children:l&&t.jsx(u.div,{"code-path":"src\\components\\ProductCard.tsx:94:19",initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.9},className:"absolute bottom-full right-0 mb-2 whitespace-nowrap z-10",children:t.jsxs("div",{"code-path":"src\\components\\ProductCard.tsx:100:21",className:"bg-green-500 text-white px-3 py-1.5 rounded-lg shadow-lg flex items-center gap-1 text-sm",children:[t.jsx(w,{"code-path":"src\\components\\ProductCard.tsx:101:23",size:14}),t.jsx("span",{"code-path":"src\\components\\ProductCard.tsx:102:23",children:"已添加"})]})})})]})]})]})]})}export{I as L,N as P};
