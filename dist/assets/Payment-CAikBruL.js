import{e as N,r as i,f as v,u as b,c as w,j as e}from"./index-kiCIfI36.js";import{c as g,m as l,B as o}from"./button-DPDK__u2.js";import{C as h}from"./card-DPj_v_4u.js";import{R as F,a as t}from"./radio-group-aTtczL0F.js";import{L as c,A as y,a as A}from"./alert-COJ_phtJ.js";import{H as C,F as I}from"./Footer-DnH7jOSd.js";import{C as k}from"./circle-check-big-CDmpchcY.js";import{L as R}from"./loader-circle-B6nL63xQ.js";import"./Combination-D_3yussR.js";import"./index-CQOVVlCY.js";import"./user-Bjm6U890.js";const B=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],L=g("apple",B);const z=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],E=g("credit-card",z);function J(){const[r]=N(),[s]=i.useState({orderId:r.get("orderId")||`ORDER${Date.now()}`,amount:parseFloat(r.get("amount")||"0"),items:parseInt(r.get("items")||"0")}),{paymentMethod:n,setPaymentMethod:P,isProcessing:m,processPayment:j,paymentResult:a,resetPayment:p}=v(),{t:f}=b(),x=w();i.useEffect(()=>{p()},[p]);const u=async()=>{if(!n)return;await j(s.amount,s.orderId)&&setTimeout(()=>{x(`/order/${s.orderId}?status=success`)},1500)};return e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:42:5",className:"min-h-screen flex flex-col",children:[e.jsx(C,{"code-path":"src\\pages\\Payment.tsx:43:7"}),e.jsx("main",{"code-path":"src\\pages\\Payment.tsx:45:7",className:"flex-1 py-16 bg-gray-50",children:e.jsx("div",{"code-path":"src\\pages\\Payment.tsx:46:9",className:"page-container",children:e.jsxs(l.div,{"code-path":"src\\pages\\Payment.tsx:47:11",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl mx-auto",children:[e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:53:13",className:"text-center mb-12",children:[e.jsx("h1",{"code-path":"src\\pages\\Payment.tsx:54:15",className:"text-3xl font-bold text-gray-800 mb-2",children:f("支付订单")}),e.jsx("p",{"code-path":"src\\pages\\Payment.tsx:55:15",className:"text-gray-600",children:"请选择支付方式完成支付"})]}),e.jsxs(h,{"code-path":"src\\pages\\Payment.tsx:59:13",className:"mb-8 p-6",children:[e.jsx("h2",{"code-path":"src\\pages\\Payment.tsx:60:15",className:"text-lg font-semibold mb-4",children:"订单信息"}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:61:15",className:"space-y-3",children:[e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:62:17",className:"flex justify-between",children:[e.jsx("span",{"code-path":"src\\pages\\Payment.tsx:63:19",className:"text-gray-600",children:"订单编号"}),e.jsx("span",{"code-path":"src\\pages\\Payment.tsx:64:19",className:"font-medium",children:s.orderId})]}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:66:17",className:"flex justify-between",children:[e.jsx("span",{"code-path":"src\\pages\\Payment.tsx:67:19",className:"text-gray-600",children:"商品数量"}),e.jsxs("span",{"code-path":"src\\pages\\Payment.tsx:68:19",children:[s.items," 件"]})]}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:70:17",className:"flex justify-between border-t pt-3 mt-3",children:[e.jsx("span",{"code-path":"src\\pages\\Payment.tsx:71:19",className:"text-lg font-bold",children:"支付金额"}),e.jsxs("span",{"code-path":"src\\pages\\Payment.tsx:72:19",className:"text-2xl font-bold text-[#F5B800]",children:["¥",s.amount.toFixed(2)]})]})]})]}),e.jsxs(h,{"code-path":"src\\pages\\Payment.tsx:78:13",className:"mb-8 p-6",children:[e.jsx("h2",{"code-path":"src\\pages\\Payment.tsx:79:15",className:"text-lg font-semibold mb-4",children:"选择支付方式"}),e.jsxs(F,{"code-path":"src\\pages\\Payment.tsx:80:15",value:n||"",onValueChange:d=>d&&P(d),className:"space-y-4",children:[e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:85:17",className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(t,{"code-path":"src\\pages\\Payment.tsx:86:19",value:"alipay",id:"alipay",className:"text-[#1677FF]"}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:87:19",className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{"code-path":"src\\pages\\Payment.tsx:88:21",className:"w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center",children:e.jsx("div",{"code-path":"src\\pages\\Payment.tsx:89:23",className:"text-2xl font-bold text-blue-500",children:"支"})}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:91:21",children:[e.jsx(c,{"code-path":"src\\pages\\Payment.tsx:92:23",htmlFor:"alipay",className:"font-medium",children:"支付宝"}),e.jsx("p",{"code-path":"src\\pages\\Payment.tsx:93:23",className:"text-sm text-gray-500",children:"推荐使用支付宝APP扫码支付"})]})]})]}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:98:17",className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(t,{"code-path":"src\\pages\\Payment.tsx:99:19",value:"wechat",id:"wechat",className:"text-[#07C160]"}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:100:19",className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{"code-path":"src\\pages\\Payment.tsx:101:21",className:"w-12 h-12 bg-green-50 rounded-full flex items-center justify-center",children:e.jsx("div",{"code-path":"src\\pages\\Payment.tsx:102:23",className:"text-2xl font-bold text-green-500",children:"微"})}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:104:21",children:[e.jsx(c,{"code-path":"src\\pages\\Payment.tsx:105:23",htmlFor:"wechat",className:"font-medium",children:"微信支付"}),e.jsx("p",{"code-path":"src\\pages\\Payment.tsx:106:23",className:"text-sm text-gray-500",children:"推荐使用微信APP扫码支付"})]})]})]}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:111:17",className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(t,{"code-path":"src\\pages\\Payment.tsx:112:19",value:"creditcard",id:"creditcard",className:"text-[#F5B800]"}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:113:19",className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{"code-path":"src\\pages\\Payment.tsx:114:21",className:"w-12 h-12 bg-yellow-50 rounded-full flex items-center justify-center",children:e.jsx(E,{"code-path":"src\\pages\\Payment.tsx:115:23",size:24,className:"text-yellow-500"})}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:117:21",children:[e.jsx(c,{"code-path":"src\\pages\\Payment.tsx:118:23",htmlFor:"creditcard",className:"font-medium",children:"银行卡支付"}),e.jsx("p",{"code-path":"src\\pages\\Payment.tsx:119:23",className:"text-sm text-gray-500",children:"支持储蓄卡、信用卡"})]})]})]}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:124:17",className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(t,{"code-path":"src\\pages\\Payment.tsx:125:19",value:"applepay",id:"applepay",className:"text-[#000000]"}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:126:19",className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{"code-path":"src\\pages\\Payment.tsx:127:21",className:"w-12 h-12 bg-black rounded-full flex items-center justify-center",children:e.jsx(L,{"code-path":"src\\pages\\Payment.tsx:128:23",size:24,className:"text-white"})}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:130:21",children:[e.jsx(c,{"code-path":"src\\pages\\Payment.tsx:131:23",htmlFor:"applepay",className:"font-medium",children:"Apple Pay"}),e.jsx("p",{"code-path":"src\\pages\\Payment.tsx:132:23",className:"text-sm text-gray-500",children:"使用Apple设备支付"})]})]})]})]})]}),a.success&&e.jsx(l.div,{"code-path":"src\\pages\\Payment.tsx:141:15",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-8",children:e.jsx(y,{"code-path":"src\\pages\\Payment.tsx:146:17",className:"p-6",children:e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:147:19",className:"flex items-center gap-4",children:[e.jsx(k,{"code-path":"src\\pages\\Payment.tsx:148:21",size:32,className:"text-green-500 flex-shrink-0"}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:149:21",children:[e.jsx("h3",{"code-path":"src\\pages\\Payment.tsx:150:23",className:"font-semibold text-lg",children:"支付成功"}),e.jsxs("p",{"code-path":"src\\pages\\Payment.tsx:151:23",className:"text-sm text-gray-600",children:["交易编号：",a.transactionId]}),e.jsx("p",{"code-path":"src\\pages\\Payment.tsx:152:23",className:"text-sm text-gray-500 mt-2",children:"正在跳转到订单详情页..."})]})]})})}),a.error&&e.jsx(l.div,{"code-path":"src\\pages\\Payment.tsx:160:15",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-8",children:e.jsx(y,{"code-path":"src\\pages\\Payment.tsx:165:17",variant:"destructive",children:e.jsx(A,{"code-path":"src\\pages\\Payment.tsx:166:19",children:a.error})})}),e.jsxs("div",{"code-path":"src\\pages\\Payment.tsx:172:13",className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(o,{"code-path":"src\\pages\\Payment.tsx:173:15",onClick:()=>x("/cart"),variant:"outline",className:"flex-1",children:"返回购物车"}),e.jsx(o,{"code-path":"src\\pages\\Payment.tsx:180:15",onClick:u,className:"flex-1 bg-[#F5B800] hover:bg-[#E5A800] text-white",disabled:!n||m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(R,{"code-path":"src\\pages\\Payment.tsx:187:21",size:18,className:"mr-2 animate-spin"}),"处理支付中..."]}):`确认支付 ¥${s.amount.toFixed(2)}`})]})]})})}),e.jsx(I,{"code-path":"src\\pages\\Payment.tsx:199:7"})]})}export{J as default};
